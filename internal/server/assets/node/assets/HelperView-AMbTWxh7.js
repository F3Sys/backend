import{T as f,S as g,F as h}from"./pure-FrWMz_Vx.js";import{d as w,u as B,r as d,g as c,c as S,a as e,k as D,i as V,t as F,b as l,o as R}from"./index-DY-KYBUN.js";globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=f);const T={class:"container"},k={class:"max-w-sm mx-auto"},C={class:"max-w-2xl mx-auto"},A={class:"grid"},E=["value"],N=["value"],j=["value"],q=["value"],I=w({__name:"HelperView",setup(G){const p=B(),r=new Headers;r.append("Authorization","Bearer "+p.key);const n=new g({minLength:7,alphabet:"23456789CFGHJMPQRVWX",blocklist:new Set([])}),t=d("962C7JF"),v=c(()=>n.decode(t.value)[0]),m=c(()=>n.decode(t.value)[1]),_=["A","B","C","D","E","F"],x=["E","A","B","C","D"],o=d(0),s=d("A"),y=async([u])=>{if(n.decode(u.rawValue).length!==2)return;t.value=u.rawValue;const i=await fetch("https://api.aicj.io/"+"visitor/"+t.value,{method:"GET",headers:r}).then(b=>b.json());o.value=i.grade,o.value>=10?s.value=x[i.class]:s.value=_[i.class]};return(u,a)=>(R(),S("main",T,[e("div",null,[e("section",k,[D(V(h),{formats:["qr_code"],onDetect:y})]),e("section",C,[e("article",null,[e("hgroup",null,[e("h2",null,F(t.value),1),a[0]||(a[0]=e("p",null,"Scanned F3SiD",-1))]),e("footer",A,[e("div",null,[e("label",null,[a[1]||(a[1]=l(" ID ")),e("input",{type:"text",name:"text",value:v.value,"aria-label":"Read-only input",readonly:""},null,8,E)]),e("label",null,[a[2]||(a[2]=l(" Rand ")),e("input",{type:"text",name:"text",value:m.value,"aria-label":"Read-only input",readonly:""},null,8,N)])]),e("div",null,[e("label",null,[a[3]||(a[3]=l(" Grade ")),e("input",{type:"text",name:"text",value:o.value,"aria-label":"Read-only input",readonly:""},null,8,j)]),e("label",null,[a[4]||(a[4]=l(" Class ")),e("input",{type:"text",name:"text",value:s.value,"aria-label":"Read-only input",readonly:""},null,8,q)])])])])])])]))}});export{I as default};
