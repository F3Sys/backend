import{u as p,g as h,r as m,d as _,i as f,h as y,c,a as e,F as g,m as v,o as u,t as a}from"./index-DTX86rsU.js";import{u as w}from"./index-BbEcSMdZ.js";const B=p(),S=h("battery",()=>{const r=m([]);function s(){r.value=[]}async function l(){const[t]=await Promise.all([n()]);return t}async function n(){const t=new Headers;t.append("Authorization","Bearer "+B.key);const o="https://api.aicj.io/";try{const d=await fetch(o+"protected/battery",{method:"GET",headers:t}).then(i=>i.json());return r.value=d,!0}catch{return!1}}return{table:r,clear:s,update:l}}),F={class:"container-fluid"},k={class:"striped"},x={scope:"row"},C=_({__name:"BatteryView",setup(r){const s=S();w(async()=>{await s.update()},6e4,{immediate:!0}),f(()=>{(async()=>await s.update())()});const l=y(()=>[...s.table].sort((n,t)=>t.level-n.level).sort((n,t)=>n.node_type.localeCompare(t.node_type)));return(n,t)=>(u(),c("main",F,[e("table",k,[t[0]||(t[0]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"名前"),e("th",{scope:"col"},"種類"),e("th",{scope:"col"},"充電状況"),e("th",{scope:"col"},"満充電までの時間"),e("th",{scope:"col"},"充電切れまでの時間"),e("th",{scope:"col"},"バッテリーレベル")])],-1)),e("tbody",null,[(u(!0),c(g,null,v(l.value,o=>(u(),c("tr",{key:o.node_id},[e("th",x,a(o.node_name),1),e("td",null,a(o.node_type),1),e("td",null,a(o.charging?"充電中":"充電していません"),1),e("td",null,a((o.charging_time/3600).toFixed(2))+" 時間",1),e("td",null,a((o.discharging_time/3600).toFixed(2))+" 時間",1),e("td",null,a(o.level),1)]))),128))])])]))}});export{C as default};
